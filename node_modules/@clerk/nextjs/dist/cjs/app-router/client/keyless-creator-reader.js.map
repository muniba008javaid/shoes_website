{"version":3,"sources":["../../../../src/app-router/client/keyless-creator-reader.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\n\nimport type { NextClerkProviderProps } from '../../types';\nimport { createOrReadKeylessAction } from '../keyless-actions';\n\nexport const KeylessCreatorOrReader = (props: NextClerkProviderProps) => {\n  const { children } = props;\n  const [state, fetchKeys] = React.useActionState(createOrReadKeylessAction, null);\n  useEffect(() => {\n    React.startTransition(() => {\n      fetchKeys();\n    });\n  }, []);\n\n  if (!React.isValidElement(children)) {\n    return children;\n  }\n\n  return React.cloneElement(children, {\n    key: state?.publishableKey,\n    publishableKey: state?.publishableKey,\n    __internal_claimKeylessApplicationUrl: state?.claimUrl,\n    __internal_copyInstanceKeysUrl: state?.apiKeysUrl,\n    __internal_bypassMissingPublishableKey: true,\n  } as any);\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAiC;AAGjC,6BAA0C;AAEnC,MAAM,yBAAyB,CAAC,UAAkC;AACvE,QAAM,EAAE,SAAS,IAAI;AACrB,QAAM,CAAC,OAAO,SAAS,IAAI,aAAAA,QAAM,eAAe,kDAA2B,IAAI;AAC/E,8BAAU,MAAM;AACd,iBAAAA,QAAM,gBAAgB,MAAM;AAC1B,gBAAU;AAAA,IACZ,CAAC;AAAA,EACH,GAAG,CAAC,CAAC;AAEL,MAAI,CAAC,aAAAA,QAAM,eAAe,QAAQ,GAAG;AACnC,WAAO;AAAA,EACT;AAEA,SAAO,aAAAA,QAAM,aAAa,UAAU;AAAA,IAClC,KAAK,+BAAO;AAAA,IACZ,gBAAgB,+BAAO;AAAA,IACvB,uCAAuC,+BAAO;AAAA,IAC9C,gCAAgC,+BAAO;AAAA,IACvC,wCAAwC;AAAA,EAC1C,CAAQ;AACV;","names":["React"]}